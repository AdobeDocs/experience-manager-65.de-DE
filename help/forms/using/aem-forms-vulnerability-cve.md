---
title: Behebung von Log4j2-Sicherheitslücken für Experience Manager Forms
description: Behebung von Log4j2-Sicherheitslücken für Experience Manager Forms
content-type: reference
products: SG_EXPERIENCEMANAGER/6.5/FORMS
topic-tags: Security
geptopics: SG_AEMFORMS/categories/jee
role: Admin
solution: Experience Manager, Experience Manager Forms
feature: Adaptive Forms
exl-id: b084c705-41d6-4dd5-ac37-c23600250336
source-git-commit: 720789bde4521ec49455e71b3f26f425c0ae2afd
workflow-type: ht
source-wordcount: '720'
ht-degree: 100%

---

# Behebung von Log4j2-Sicherheitslücken für Experience Manager Forms

## Problem

Für Apache Log4j2, eine beliebte Protokollierungsbibliothek für Java-basierte Anwendungen, wurden kritische Sicherheitslücken gemeldet. Die folgenden Schwachstellen wurden analysiert:

<table border="1">
  <tr>
    <th>Schwachstelle</th>
    <th>Was ist betroffen?</th>
    <th>Was ist nicht betroffen?</th>
    <th>Status</th>
  </tr>
  <tr>
    <td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-44228">CVE-2021-44228</a></td>
    <td rowspan="2">
      <ul>
        <li>Experience Manager 6.5 Forms auf JEE (alle Versionen von 6.5 GA bis 6.5.11)</li>
        <li>Experience Manager 6.4 Forms auf JEE (alle Versionen von 6.4 GA bis 6.4.8)</li>
        <li>Experience Manager 6.3 Forms auf JEE (alle Versionen von 6.3 GA bis 6.3.3)</li>
        <li>Experience Manager 6.5 Forms Designer</li>
        <li>Experience Manager 6.4 Forms Designer</li>
        <li>Service zur automatisierten Formularkonvertierung</li>
      </ul>
    </td>
    <td rowspan="2">
      <ul>
        <li>Experience Manager Forms Workbench (alle Versionen)</li>
        <li>Experience Manager Forms auf OSGi (alle Versionen)</li>
      </ul>
    </td>
    <td rowspan="2">
      Diese wurden behoben. Im Abschnitt <strong>Auflösung</strong> finden Sie Korrekturen und Maßnahmen zur Risikominderung.
    </td>
  </tr>
  <tr>
    <td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-45046">CVE-2021-45046</a></td>
  </tr>
  <tr>
    <td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-45105">CVE-2021-45105</a></td>
    <td rowspan="9" colspan="2">
      Keine Auswirkungen auf Experience Manager Forms-Versionen für vorkonfigurierte Protokollierungskonfigurationen. Wenn Sie zusätzliche Protokollierungskonfigurationen haben, überprüfen Sie diese Konfigurationen auf diese Sicherheitslücken.
    </td>
  </tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-44832">CVE-2021-44832</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-4104">CVE-2021-4104</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-22963">CVE-2022-22963</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-22965">CVE-2022-22965</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-9488">CVE-2020-9488</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-23302">CVE-2022-23307</a></td><td></td></tr>
</table>

>[!NOTE]
> 
> AEM 6.5.13.0 Forms und frühere Versionen enthalten beide Log4j-Bibliotheken (1.x und 2.17.1). Die AEM Forms Log4j 1.x-Bibliotheken in AEM 6.5.13.0 Forms und früheren Versionen sind weder Teil der gemeldeten Sicherheitslücke noch werden sie in den von Adobe durchgeführten AEM Forms-Code-Scans als anfällig eingestuft. Alle Log4j 1.x-Bibliotheken werden jedoch in Version 6.5.14 entfernt. Anweisungen zur Installation von AEM 6.5.14.0 oder einer späteren Version finden Sie in den [Versionshinweisen](https://experienceleague.adobe.com/de/docs/experience-manager-65/content/release-notes/release-notes).

## Auflösung

Sie können eine der folgenden Methoden anwenden, um das Risiko dieser Sicherheitslücke zu mindern:

* Installieren Sie die neueste Version des Service Packs
* Verwenden manueller Abhilfemaßnahmen

**Installieren Sie die neueste Version des Service Packs**

>[!CAUTION]
> 
> Wenn Sie einen Hotfix auf die Umgebung von Experience Manager Forms Service Pack 6.3.3.8 oder Experience Manager Forms Service Pack 6.4.8.4 angewendet haben, installieren Sie nicht das Service Pack mit den Fehlerbehebungen (unten aufgeführt). Durch die Installation dieser Service Packs wird der Hotfix möglicherweise überschrieben. Adobe empfiehlt in einem solchen Fall die Anwendung **manueller Abhilfemaßnahmen**.

<table border="1" cellpadding="8" cellspacing="0">
  <thead>
    <tr>
      <th>Freigabe</th>
      <th>Version</th>
      <th>Downloadlink/Benutzeraktion</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Experience Manager 6.5 Forms auf JEE</td>
      <td>AEMForms-6.5.0-0038 (log4jv2.16)</td>
      <td rowspan="5">Download von der <a href="https://auth.services.adobe.com/de_DE/index.html?callback=https%3A%2F%2Fims-na1.adobelogin.com%2Fims%2Fadobeid%2Fexc_app%2FAdobeID%2Ftoken%3Fredirect_uri%3Dhttps%253A%252F%252Fexperience.adobe.com%252F%2523old_hash%253Dold_hash%253D%252523%25252Fdownloads%2526from_ims%253Dtrue%253Fclient_id%253Dexc_app%2526api%253Dauthorize%2526scope%253Dab.manage%252Caccount_cluster.read%252Cadditional_info%252Cadditional_info.job_function%252Cadditional_info.projectedProductContext%252Cadditional_info.roles%252CAdobeID%252Cadobeio.appregistry.read%252Cadobeio_api%252Caudiencemanager_api%252Ccreative_cloud%252Cmps%252Copenid%252Corg.read%252Cpps.read%252Cread_organizations%252Cread_pc%252Cread_pc.acp%252Cread_pc.dma_tartan%252Csession%26state%3D%257B%2522jslibver%2522%253A%2522v2-v0.31.0-2-g1e8a8a8%2522%252C%2522nonce%2522%253A%25223811059492261787%2522%257D%26code_challenge_method%3Dplain%26use_ms_for_expiry%3Dtrue&amp;client_id=exc_app&amp;scope=ab.manage%2Caccount_cluster.read%2Cadditional_info%2Cadditional_info.job_function%2Cadditional_info.projectedProductContext%2Cadditional_info.roles%2CAdobeID%2Cadobeio.appregistry.read%2Cadobeio_api%2Caudiencemanager_api%2Ccreative_cloud%2Cmps%2Copenid%2Corg.read%2Cpps.read%2Cread_organizations%2Cread_pc%2Cread_pc.acp%2Cread_pc.dma_tartan%2Csession&amp;state=%7B%22jslibver%22%3A%22v2-v0.31.0-2-g1e8a8a8%22%2C%22nonce%22%3A%223811059492261787%22%7D&amp;relay=2cf36844-ac87-4b40-a6fe-9a06cd0a01b8&amp;locale=en_US&amp;flow_type=token&amp;dctx_id=v%3A2%2Cs%2Cf%2Cb8e64530-b013-11ee-a6c1-e721bdec0171&amp;idp_flow_type=login&amp;response_type=token&amp;profile_filter=%7B%22findFirst%22%3Atrue%2C+%22fallbackToAA%22%3Atrue%2C+%22preferForwardProfile%22%3Atrue%2C+%22searchEntireCluster%22%3Afalse%7D%3B+hasPC%28%22dma_tartan%22%29&amp;code_challenge_method=plain&amp;redirect_uri=https%3A%2F%2Fexperience.adobe.com%2F%23old_hash%3Dold_hash%3D%2523%252Fdownloads%26from_ims%3Dtrue%3Fclient_id%3Dexc_app%26api%3Dauthorize%26scope%3Dab.manage%2Caccount_cluster.read%2Cadditional_info%2Cadditional_info.job_function%2Cadditional_info.projectedProductContext%2Cadditional_info.roles%2CAdobeID%2Cadobeio.appregistry.read%2Cadobeio_api%2Caudiencemanager_api%2Ccreative_cloud%2Cmps%2Copenid%2Corg.read%2Cpps.read%2Cread_organizations%2Cread_pc%2Cread_pc.acp%2Cread_pc.dma_tartan%2Csession&amp;use_ms_for_expiry=true#/">Software-Verteilung</a>.</td>
    </tr>
    <tr>
      <td>Experience Manager 6.4 Forms auf JEE</td>
      <td>AEMForms-6.4.0-0027</td>
    </tr>
    <tr>
      <td>Experience Manager 6.3 Forms auf JEE</td>
      <td>AEMForms-6.3.0-0047</td>
    </tr>
    <tr>
      <td>Experience Manager 6.5 Forms Designer</td>
      <td>AEM Forms Designer v650.019</td>
    </tr>
    <tr>
      <td>Experience Manager 6.4 Forms Designer</td>
      <td>AEM Forms Designer v640.012</td>
    </tr>
    <tr>
      <td>Service zur automatisierten Formularkonvertierung</td>
      <td>Die Schritte zur Risikominderung wurden identifiziert und der Service wurde gepatcht.</td>
      <td>Es gibt keine Benutzeraktion.</td>
    </tr>
  </tbody>
</table>

## Verwenden manueller Abhilfemaßnahmen

Führen Sie für Experience Manager 6.5 Forms (log4j-core Version 2.10 und höher), Experience Manager 6.4 Forms (log4j-core Version niedriger als 2.10) und Experience Manager 6.3 Forms (log4j-core Version niedriger als 2.10) die folgenden Schritte aus, um das Problem zu beheben:

1. Fahren Sie alle Server-Instanzen und Locator herunter.

1. Entfernen Sie `org/apache/logging/log4j/core/lookup/JndiLookup.class` aus den anfälligen `log4j-core-2.xx.jar`, die an den folgenden Stellen verfügbar sind:

   * **EAR-Datei zur Bereitstellung:**

   ```javascript
   <FORMS_INSTALLATION_DIRECTORY>/configurationManager/export/adobe-livecycle-[jboss|weblogic|websphere].ear
   ```

   * **GemFire- oder Geode-Locator:**

   ```javascript
   <FORMS_INSTALLATION_DIRECTORY>/lib/caching/lib
   ```

   Um eine bereitstellbare EAR-Datei zu aktualisieren, können Sie je nach Betriebssystem eine der folgenden Methoden verwenden, um die `JndiLookup.class` aus den anfälligen `log4j-core-2.xx.jar` zu entfernen:

   * (Linux mit Oracle WebLogic oder Redhat JBoss): Führen Sie den folgenden Befehl aus. Aktualisieren Sie die `version`- und Anwendungs-Server-Informationen, bevor Sie diese Befehle ausführen:

   ```javascript
   unzip adobe-livecycle-<weblogic|jboss>.ear lib/log4j-core-<version>.jar
   ```

   ```javascript
   zip -d lib/log4j-core-xxx.jar org/apache/logging/log4j/core/lookup/JndiLookup.  class
   ```

   ```javascript
   zip -ru adobe-livecycle-jboss.ear lib/log4j-core-<version>.jar
   ```

   * (Linux mit IBM WebSphere): Führen Sie den folgenden Befehl aus. Aktualisieren Sie die `version`- und Anwendungs-Server-Informationen, bevor Sie diese Befehle ausführen:

   ```javascript
   unzip adobe-livecycle-websphere.ear log4j-core-<version>.jar
   ```

   ```javascript
   zip -d log4j-core-xxx.jar org/apache/logging/log4j/core/lookup/JndiLookup.class
   ```

   * (Microsoft Windows): Verwenden Sie ein GUI-Tool wie [7-Zip](https://www.7-zip.org/), um die Klassendatei zu entfernen.
1. Wiederholen Sie Schritt 2 für jede Anwendungs-Server-Instanz (Knoten) und alle Locators (falls mehr als einer).

1. Stellen Sie nach der Aktualisierung der JAR-Datei die geänderte EAR-Datei erneut bereit und starten Sie alle Locator-Prozesse und Server-Instanzen neu.

>[!NOTE]
> 
> * Ersetzen Sie die Originalkopie der JAR-Datei „log4j-core-2.xx“ durch die aktualisierte Kopie. Es sind keine weiteren Änderungen erforderlich.
> * Wenn der Konfigurations-Manager erneut ausgeführt wird, kann der Inhalt von `<FORMS_INSTALLATION_DIRECTORY/configurationManager/export` überschrieben werden.   Um zu vermeiden, dass die obige Änderung jedes Mal erneut durchgeführt werden muss, aktualisieren Sie die JAR-Datei in `<FORMS_INSTALLATION_DIRECTORY>/deploy/adobe-core-[jboss|weblogic|websphere].ear`. Dadurch wird sichergestellt, dass die vom Konfigurations-Manager erstellte `adobe-livecycle-[jboss|weblogic|websphere].ear` bereits über die aktualisierten `log4j-core-2.xx jar` verfügt.
> * Manuelle Änderungen an bereitstellbaren Artefakten können beim Patchen/Aktualisieren überschrieben werden. Sollte dies passieren, führen Sie das Verfahren erneut durch.

## Verweise

[https://logging.apache.org/log4j/2.x/security.html](https://logging.apache.org/security.html)

**An wen sollte ich mich wenden, wenn ich zusätzliche Fragen habe oder Probleme bei der Durchführung von Schritten zur Risikominderung auftreten?**

Sie können sich an den [Adobe-Support](https://experienceleague.adobe.com/?lang=de&support-solution=Experience+Manager#support) wenden oder ein [Support-Ticket](https://experienceleague.adobe.com/de/docs/customer-one/using/home#submit-ticket) erstellen.

**An wen sollte ich mich wenden, wenn ich zusätzliche Fragen habe oder Probleme bei der Durchführung von Schritten zur Risikominderung auftreten?**
[Rechtliche Hinweise](https://helpx.adobe.com/legal/legal-notices.html)    |    [Online-Datenschutzrichtlinie](https://www.adobe.com/de/privacy.html)
